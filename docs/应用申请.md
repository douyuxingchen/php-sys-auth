# 应用申请

欢迎申请使用我们的应用！为了更好地管理应用信息和权限，我们需要您提供以下数据：

### 应用信息字段说明
1. **app_key**: 应用标识符，用于识别应用。必填字段。
2. **secret_key**: 应用私钥，用于安全验证。必填字段。
3. **name**: 应用名称，简要描述应用的名称。必填字段。
4. **description**: 应用描述，详细说明应用的用途和特点。必填字段。
5. **api_limit**: API访问限制，设置每秒访问API的限制数量。填写数字表示限制数量，0 表示无限制。
6. **ip_limit_type**: IP限制类型，选择白名单或黑名单限制。填写0表示白名单，1表示黑名单。
7. **ip_white_list**: IP白名单，仅当IP限制类型为白名单时填写，多个IP以逗号分隔。
8. **ip_black_list**: IP黑名单，仅当IP限制类型为黑名单时填写，多个IP以逗号分隔。

### 申请流程说明
1. **填写申请信息**: 请填写上述字段信息，确保提供准确有效的应用信息。
2. **提交申请**: 将填写完整的应用信息发送至申请渠道（具体申请渠道请参考官方指南）。
3. **审核流程**: 我们的团队将进行应用信息审核，审核通过后将通知您应用已经通过状态。
4. **使用及管理**: 获得通过状态后，您将获得相应权限使用我们的应用服务，同时可以在后台管理界面对应用信息进行管理和调整。

### 注意事项
- 提供的信息必须真实有效，便于我们审核和管理应用。
- 应用信息保密，特别是应用私钥（secret_key），请妥善保管，避免泄露。

#### KEY生成
关于 app_key 和 secret_key 的申请，该SDK提供了生成方法，请请求如下方法生成
```php
// 生成AppKey
Douyuxingchen\PhpSysAuth\Auth\AuthKey::genAppKey();
// 生成 AppSecret
Douyuxingchen\PhpSysAuth\Auth\AuthKey::genAppSecret();
```

#### IP写入规范
IP写入支持三种规范，请参考以下演示示例
- 所有IPv4地址：0.0.0.0/0
- 指定单个IP：如192.168.1.1
- 指定CIDR段：如192.168.1.0/24

### 接口白名单申请

当开发者需要为应用配置请求接口的白名单时，需要按照以下步骤进行操作：

1. 系统记录或创建
- **系统信息记录**：在 `sys_auth_system` 表中记录或创建具体的系统。
  - **字段**：填写系统标识 (`key`)、系统名称 (`name`) 和系统域名 (`domain`) 等信息。
  - **创建时间**：系统记录的创建时间会自动记录。

2. 路由信息记录
- **路由信息记录**：在 `sys_auth_api` 表中记录具体的路由。
  - **系统关联**：通过 `system_id` 关联系统的ID。
  - **路由信息**：填写路由的名称 (`name`) 和具体的路由地址 (`route`)。
  - **创建时间**：路由记录的创建时间会自动记录。

3. 应用与路由关联
- **应用与路由关联**：在 `sys_auth_app_route` 表中建立应用和路由之间的关联关系。
  - **应用关联**：通过 `app_id` 关联应用的ID。
  - **路由关联**：通过 `api_id` 关联具体的路由ID。
  - **关联时间**：关联关系的创建时间会自动记录。

####  申请接口白名单的具体流程：
1. **系统记录或创建**：
   - 开发者先登录系统管理界面或调用系统管理接口。
   - 在系统管理界面中找到“系统管理”或“新增系统”选项。
   - 填写系统标识、名称和域名等信息，并提交保存。

2. **路由信息记录**：
   - 在系统管理界面中找到“路由管理”或“新增路由”选项。
   - 选择关联的系统，填写路由名称和路由地址，并保存记录。

3. **应用与路由关联**：
   - 在应用管理界面中找到“应用配置”或“接口白名单配置”选项。
   - 选择要配置的应用，然后选择需要绑定的路由列表，进行关联操作。
   - 确认关联后，保存配置。

#### 注意事项：
- 确保填写的系统标识、名称、域名以及路由信息准确无误。
- 在关联应用与路由时，确认所选路由符合应用的需求，避免不必要的接口暴露或访问限制。



